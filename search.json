[{"path":"https://jeffbaumes.github.io/nmdcr/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"NMDC Contributors. Maintainer.","code":""},{"path":"https://jeffbaumes.github.io/nmdcr/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Contributors N (2024). nmdcr: R client NMDC. R package version 0.1.0, https://jeffbaumes.github.io/nmdcr/.","code":"@Manual{,   title = {nmdcr: R client for NMDC},   author = {NMDC Contributors},   year = {2024},   note = {R package version 0.1.0},   url = {https://jeffbaumes.github.io/nmdcr/}, }"},{"path":"https://jeffbaumes.github.io/nmdcr/index.html","id":"nmdcr","dir":"","previous_headings":"","what":"R client for NMDC","title":"R client for NMDC","text":"GitHub: https://github.com/jeffbaumes/nmdcr Documentation: https://jeffbaumes.github.io/nmdcr module provides functions interact NMDC API, including retrieving metadata data frames linking across schema objects.","code":""},{"path":"https://jeffbaumes.github.io/nmdcr/index.html","id":"getting-started","dir":"","previous_headings":"","what":"Getting started","title":"R client for NMDC","text":"install: use:","code":"install.packages(\"devtools\") library(devtools) install_github(\"jeffbaumes/nmdcr\") library(nmdcr) client <- NmdcClient$new() studies <- client$find(nmdcr::Study)"},{"path":"https://jeffbaumes.github.io/nmdcr/index.html","id":"user-guide","dir":"","previous_headings":"","what":"User guide","title":"R client for NMDC","text":"module provides functions interact NMDC API, including retrieving metadata data frames linking across schema objects. NmdcClient$find NmdcClient$lookup functions return data data frame. See NMDC schema documentation <https://microbiomedata.github.io/nmdc-schema/>_ information NMDC schema classes. NmdcClient$merge_related function merges related objects one data frame. uses low-level NmdcClient$related_ids function find related objects given type single ID. load nmdcr, fetches latest NMDC schema provides R representations schema classes nmdcr::<class>. Names classes slots can discovered autocompleting nmdc:: IDE, visiting NMDC schema documentation <https://microbiomedata.github.io/nmdc-schema/>_. interact NMDC API, create NmdcClient instance. following retrieves studies Wrighton principal investigator data frame. Queries specified using MongoDB query syntax <https://www.mongodb.com/docs/manual/tutorial/query-documents/>_. following retrieves specific biosample identifier associates study metadata. first time NmdcClient$merge_related called, fetch linkages objects NMDC schema cache client object. takes minutes. can force update cache later time calling NmdcClient$fetch_links force set TRUE. following retrieves 10 samples merges associated workflow executions.","code":"client <- NmdcClient$new() query <- list(`principal_investigator.has_raw_value` = list(`$regex` = \"Wrighton\")) studies <- client$find(nmdcr::Study, query = query) ids <- \"nmdc:bsm-13-7qxjvr77\" biosample <- client$lookup(nmdcr::Biosample, ids, fields = c(\"id\", \"name\")) add_study <- client$merge_related(biosample, \"id\", nmdcr::Study, fields=[\"id\", \"title\"]) samp <- client$find(nmdcr::Biosample, fields = c(\"id\", \"type\"), limit = 10) exec <- client$merge_related(samp, \"id\", nmdcr::WorkflowExecution, fields=c(\"id\", \"type\"))"},{"path":"https://jeffbaumes.github.io/nmdcr/reference/NmdcClient-fetch_codes.html","id":null,"dir":"Reference","previous_headings":"","what":"Fetch typecodes from the NMDC typecode API — NmdcClient$fetch_codes","title":"Fetch typecodes from the NMDC typecode API — NmdcClient$fetch_codes","text":"Fetch cache typecodes NMDC typecode API.","code":"client <- NmdcClient$new() client$fetch_codes(force = FALSE)"},{"path":"https://jeffbaumes.github.io/nmdcr/reference/NmdcClient-fetch_codes.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fetch typecodes from the NMDC typecode API — NmdcClient$fetch_codes","text":"force Whether force fetching typecodes even already cached.","code":""},{"path":"https://jeffbaumes.github.io/nmdcr/reference/NmdcClient-fetch_links.html","id":null,"dir":"Reference","previous_headings":"","what":"Fetch links between objects in the NMDC schema — NmdcClient$fetch_links","title":"Fetch links between objects in the NMDC schema — NmdcClient$fetch_links","text":"function constructs links objects NMDC schema. major links NMDC schema objects follow directional flow. `(process)*` notation represents process may repeated zero times.","code":"Study (→ Study)* → Biosample (→ MaterialProcessing → ProcessedSample)* → DataGeneration → DataObject → (WorkflowExecution → DataObject)* client <- NmdcClient$new() client$fetch_links(force = FALSE)"},{"path":"https://jeffbaumes.github.io/nmdcr/reference/NmdcClient-fetch_links.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fetch links between objects in the NMDC schema — NmdcClient$fetch_links","text":"force Whether force construction links even already cached.","code":""},{"path":"https://jeffbaumes.github.io/nmdcr/reference/NmdcClient-find.html","id":null,"dir":"Reference","previous_headings":"","what":"Find objects in the NMDC schema — NmdcClient$find","title":"Find objects in the NMDC schema — NmdcClient$find","text":"Retrieve data frame objects specified class NMDC schema.","code":"client <- NmdcClient$new() client$find(cls, query = list(a = NULL)[-1], fields = NULL, limit = NULL)"},{"path":"https://jeffbaumes.github.io/nmdcr/reference/NmdcClient-find.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Find objects in the NMDC schema — NmdcClient$find","text":"cls class type collection objects retrieve. Must subclass `nmdcr::NamedThing` name NMDC database collection. query list representing query filter objects. Defaults NULL returns objects. fields list fields include result. Defaults NULL returns fields. limit maximum number objects retrieve. Defaults NULL retrieves matching objects.","code":""},{"path":"https://jeffbaumes.github.io/nmdcr/reference/NmdcClient-find.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Find objects in the NMDC schema — NmdcClient$find","text":"data frame containing retrieved objects.","code":""},{"path":"https://jeffbaumes.github.io/nmdcr/reference/NmdcClient-follow_links.html","id":null,"dir":"Reference","previous_headings":"","what":"Follow links between objects in the NMDC schema — NmdcClient$follow_links","title":"Follow links between objects in the NMDC schema — NmdcClient$follow_links","text":"Find object identifiers linked specified object identifier traversing links specified direction.","code":"client <- NmdcClient$new() client$follow_links(root_id, direction, steps = NULL)"},{"path":"https://jeffbaumes.github.io/nmdcr/reference/NmdcClient-follow_links.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Follow links between objects in the NMDC schema — NmdcClient$follow_links","text":"root_id object identifier start . direction direction traverse links. Use `1` outgoing links `2` incoming links. steps maximum number steps follow. Defaults NULL follows links.","code":""},{"path":"https://jeffbaumes.github.io/nmdcr/reference/NmdcClient-follow_links.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Follow links between objects in the NMDC schema — NmdcClient$follow_links","text":"list object identifiers linked specified object identifier.","code":""},{"path":"https://jeffbaumes.github.io/nmdcr/reference/NmdcClient-follow_links.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Follow links between objects in the NMDC schema — NmdcClient$follow_links","text":"","code":"linked <- client$follow_links('nmdc:bsm-13-7qxjvr77', 1) #> Error: object 'client' not found linked <- client$follow_links('nmdc:bsm-13-7qxjvr77', 2) #> Error: object 'client' not found"},{"path":"https://jeffbaumes.github.io/nmdcr/reference/NmdcClient-lookup.html","id":null,"dir":"Reference","previous_headings":"","what":"Lookup objects in the NMDC schema by their identifiers — NmdcClient$lookup","title":"Lookup objects in the NMDC schema by their identifiers — NmdcClient$lookup","text":"Retrieve data frame objects identifiers.","code":"client <- NmdcClient$new() client$lookup(cls, ids, fields = NULL)"},{"path":"https://jeffbaumes.github.io/nmdcr/reference/NmdcClient-lookup.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Lookup objects in the NMDC schema by their identifiers — NmdcClient$lookup","text":"cls class type collection objects retrieve. Must subclass `nmdcr::NamedThing` name NMDC database collection. ids list object identifiers. fields list fields include result. Defaults NULL includes fields.","code":""},{"path":"https://jeffbaumes.github.io/nmdcr/reference/NmdcClient-lookup.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Lookup objects in the NMDC schema by their identifiers — NmdcClient$lookup","text":"data frame representing retrieved objects.","code":""},{"path":"https://jeffbaumes.github.io/nmdcr/reference/NmdcClient-merge_related.html","id":null,"dir":"Reference","previous_headings":"","what":"Merge related objects of the specified class into the specified data frame — NmdcClient$merge_related","title":"Merge related objects of the specified class into the specified data frame — NmdcClient$merge_related","text":"function merges related objects specified class specified data frame finding related objects specified IDs merging data frame.","code":"client <- NmdcClient$new() client$merge_related(data, id_column, cls, fields = NULL)"},{"path":"https://jeffbaumes.github.io/nmdcr/reference/NmdcClient-merge_related.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Merge related objects of the specified class into the specified data frame — NmdcClient$merge_related","text":"data data frame merge related objects . id_column name column containing object IDs. cls type objects merge data frame. fields list fields include result. Defaults NULL includes fields.","code":""},{"path":"https://jeffbaumes.github.io/nmdcr/reference/NmdcClient-merge_related.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Merge related objects of the specified class into the specified data frame — NmdcClient$merge_related","text":"data frame containing merged data.","code":""},{"path":"https://jeffbaumes.github.io/nmdcr/reference/NmdcClient-new.html","id":null,"dir":"Reference","previous_headings":"","what":"Initialize an NMDC client — NmdcClient$new","title":"Initialize an NMDC client — NmdcClient$new","text":"Initialize NMDC client specified parameters.","code":"NmdcClient$new(   base_url = \"https://api.microbiomedata.org\",   max_page_size = 1000,   sleep_seconds = 0.5,   timeout = 30,   verbose = FALSE,   links = NULL)"},{"path":"https://jeffbaumes.github.io/nmdcr/reference/NmdcClient-new.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Initialize an NMDC client — NmdcClient$new","text":"base_url base URL NMDC API. max_page_size maximum number objects retrieve per request. sleep_seconds number seconds wait API requests paginating. timeout number seconds wait API request complete throwing exception. verbose Whether print URLs API requests. links data frame links objects NMDC schema. Defaults NULL fetches caches links first call `related_ids` `merge_related`.","code":""},{"path":"https://jeffbaumes.github.io/nmdcr/reference/NmdcClient-new.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Initialize an NMDC client — NmdcClient$new","text":"instance `NmdcClient` class.","code":""},{"path":"https://jeffbaumes.github.io/nmdcr/reference/NmdcClient-related_ids.html","id":null,"dir":"Reference","previous_headings":"","what":"Find related object identifiers of the specified class for the specified IDs — NmdcClient$related_ids","title":"Find related object identifiers of the specified class for the specified IDs — NmdcClient$related_ids","text":"function finds related objects specified class specified IDs, returns data frame mapping source ID related target ID.","code":"client <- NmdcClient$new() client$related_ids(ids, cls)"},{"path":"https://jeffbaumes.github.io/nmdcr/reference/NmdcClient-related_ids.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Find related object identifiers of the specified class for the specified IDs — NmdcClient$related_ids","text":"ids list object identifiers. cls type objects find related objects .","code":""},{"path":"https://jeffbaumes.github.io/nmdcr/reference/NmdcClient-related_ids.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Find related object identifiers of the specified class for the specified IDs — NmdcClient$related_ids","text":"data frame mapping source ID related target ID.","code":""},{"path":"https://jeffbaumes.github.io/nmdcr/reference/NmdcClient-related_ids.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Find related object identifiers of the specified class for the specified IDs — NmdcClient$related_ids","text":"","code":"related <- client$related_ids(c('nmdc:bsm-13-7qxjvr77'), nmdcr::WorkflowExecution) #> Error: object 'client' not found"},{"path":"https://jeffbaumes.github.io/nmdcr/reference/class_ancestors.html","id":null,"dir":"Reference","previous_headings":"","what":"NMDC schema class ancestors — class_ancestors","title":"NMDC schema class ancestors — class_ancestors","text":"function returns ancestors given class following `is_a` relationships, along .","code":""},{"path":"https://jeffbaumes.github.io/nmdcr/reference/class_ancestors.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"NMDC schema class ancestors — class_ancestors","text":"","code":"class_ancestors(cls)"},{"path":"https://jeffbaumes.github.io/nmdcr/reference/class_ancestors.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"NMDC schema class ancestors — class_ancestors","text":"cls class object `nmdcr::Study`","code":""},{"path":"https://jeffbaumes.github.io/nmdcr/reference/class_ancestors.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"NMDC schema class ancestors — class_ancestors","text":"character vector ancestor class names.","code":""},{"path":"https://jeffbaumes.github.io/nmdcr/reference/class_database_collections.html","id":null,"dir":"Reference","previous_headings":"","what":"NMDC schema database collections for a class — class_database_collections","title":"NMDC schema database collections for a class — class_database_collections","text":"function returns database collections contain descendants given class.","code":""},{"path":"https://jeffbaumes.github.io/nmdcr/reference/class_database_collections.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"NMDC schema database collections for a class — class_database_collections","text":"","code":"class_database_collections(cls)"},{"path":"https://jeffbaumes.github.io/nmdcr/reference/class_database_collections.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"NMDC schema database collections for a class — class_database_collections","text":"cls class object `nmdcr::Study`","code":""},{"path":"https://jeffbaumes.github.io/nmdcr/reference/class_database_collections.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"NMDC schema database collections for a class — class_database_collections","text":"character vector database collection names.","code":""},{"path":"https://jeffbaumes.github.io/nmdcr/reference/class_descendants.html","id":null,"dir":"Reference","previous_headings":"","what":"NMDC schema class descendants — class_descendants","title":"NMDC schema class descendants — class_descendants","text":"function returns descendants given class following `is_a` relationships, along .","code":""},{"path":"https://jeffbaumes.github.io/nmdcr/reference/class_descendants.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"NMDC schema class descendants — class_descendants","text":"","code":"class_descendants(cls)"},{"path":"https://jeffbaumes.github.io/nmdcr/reference/class_descendants.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"NMDC schema class descendants — class_descendants","text":"cls class object `nmdcr::Study`","code":""},{"path":"https://jeffbaumes.github.io/nmdcr/reference/class_descendants.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"NMDC schema class descendants — class_descendants","text":"character vector descendant class names.","code":""}]
